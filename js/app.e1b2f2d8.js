(function(e){function t(t){for(var a,r,o=t[0],i=t[1],c=t[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);d&&d(t);while(m.length)m.shift()();return l.push.apply(l,c||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==s[i]&&(a=!1)}a&&(l.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},s={app:0},l=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/kontent-model-visualizer/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=i;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0ab6":function(e,t,n){},"4c2f":function(e,t,n){},"4f20":function(e,t,n){},"564f":function(e,t,n){"use strict";n("d1fc")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("v-content",[n("v-container",{class:e.fullscreenDiagram?"pt-3":"pt-1 pb-0"},[n("img",{attrs:{id:"logo",src:"/kai-logo.png"}}),n("error-handler"),n("project-selector",{directives:[{name:"show",rawName:"v-show",value:!e.fullscreenDiagram,expression:"!fullscreenDiagram"}]}),n("visualizer")],1)],1)],1)},l=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.error?n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",[n("v-alert",{attrs:{type:"error"}},[e._v(e._s(e.error))])],1)],1):e._e()},o=[],i={data:function(){return{error:null}},created:function(){var e=this;this.$globalEvents.$on("error",(function(t){return e.setError(t)})),this.$globalEvents.$on("no-error",(function(){return e.error=null}))},methods:{setError:function(e){var t=this;this.error=e,setInterval((function(){return t.error=null}),5e3)}}},c=i,d=n("2877"),u=n("6544"),m=n.n(u),p=n("0798"),v=n("62ad"),f=n("0fd9"),h=Object(d["a"])(c,r,o,!1,null,null,null),g=h.exports;m()(h,{VAlert:p["a"],VCol:v["a"],VRow:f["a"]});var b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"pa-0 ma-0"},[e.projectData?n("v-row",{staticClass:"pa-0 ma-0 mb-2",attrs:{align:"center",justify:"center"}},[e.projectData?n("v-col",{attrs:{cols:"7"}},[n("project-detail",{attrs:{projectData:e.projectData,projectId:e.projectId}})],1):e._e(),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},on:{click:e.requestVisualization}},[n("v-icon",[e._v("mdi-refresh")])],1),n("v-btn",{staticClass:"text-none",attrs:{color:"primary"},on:{click:e.changeVisualization}},[e._v("Change project")])],1)],1):n("v-row",{staticClass:"pa-0 ma-0",attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"3"}},[n("v-text-field",{attrs:{label:"Kontent.ai Project Id"},model:{value:e.projectId,callback:function(t){e.projectId=t},expression:"projectId"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{staticClass:"text-none",attrs:{color:"primary"},on:{click:e.requestVisualization}},[e._v("Visualize Content Models")])],1)],1),n("v-dialog",{attrs:{persistent:e.loading,"max-width":"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-text",[n("v-card-title",[e._v("Request Kontent Model Map")]),n("v-container",[n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",[n("v-text-field",{attrs:{label:"Management Api Key",type:"password",disabled:e.loading},model:{value:e.apiKey,callback:function(t){e.apiKey=t},expression:"apiKey"}})],1)],1),n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",{attrs:{cols:"7"}},[n("v-btn",{staticClass:"text-none",attrs:{color:"primary",disabled:e.loading},on:{click:e.getKontentModellingData}},[e._v("Visualize Content Models")])],1)],1),e.loading?n("v-row",{staticClass:"ma-5 pa-5",attrs:{align:"center",justify:"center"}},[n("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):e._e()],1)],1)],1)],1)],1)},w=[],_=n("1da1"),y=(n("96cf"),n("ac1f"),n("00b4"),n("b85c")),k=(n("b0c0"),n("4de4"),n("d3b7"),n("aaf2"));function C(e,t){return x.apply(this,arguments)}function x(){return x=Object(_["a"])(regeneratorRuntime.mark((function e(t,n){var a,s,l,r,o,i,c,d,u,m,p,v,f,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new k["a"]({projectId:t,apiKey:n}),e.next=3,a.listContentTypes().toAllPromise();case 3:s=e.sent,l=[],r=Object(y["a"])(s.data.items);try{for(r.s();!(o=r.n()).done;){i=o.value,c={codename:i.codename,id:i.id,name:i.name,elements:[]},d=Object(y["a"])(i.elements);try{for(d.s();!(u=d.n()).done;){if(m=u.value,p={codename:m.codename,type:m.type},m.name&&(p.name=m.name),m.is_required&&(p.required=m.is_required),"modular_content"==m.type){p.allowedTypes=[],v=Object(y["a"])(m.allowed_content_types);try{for(h=function(){var e=f.value,t=s.data.items.filter((function(t){return t.id==e.id}));null!=t&&p.allowedTypes.push({id:t[0].id,codename:t[0].codename,name:t[0].name})},v.s();!(f=v.n()).done;)h()}catch(g){v.e(g)}finally{v.f()}}c.elements.push(p)}}catch(g){d.e(g)}finally{d.f()}l.push(c)}}catch(g){r.e(g)}finally{r.f()}return e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}var V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.hide?e._e():n("v-card",{staticClass:"pa-0 ma-0 pl-0",attrs:{flat:""}},[n("v-row",{staticClass:"pa-0 ma-0 pl-2 pr-2",attrs:{justify:"center",align:"center"}},[n("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"5"}},[n("v-chip",{staticClass:"font-weight-bold mr-2",attrs:{color:"primary",dark:"",label:"",outlined:""}},[e._v(e._s(e.nodes.length))]),n("span",{staticClass:"overline"},[e._v("Content Types")])],1),n("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"5"}},[n("v-chip",{staticClass:"font-weight-bold mr-2",attrs:{color:"primary",dark:"",label:"",outlined:""}},[e._v(e._s(e.edges.length))]),n("span",{staticClass:"overline"},[e._v("Unique Links between Types")])],1)],1)],1)},j=[],E=n("2909");n("d81d"),n("99af"),n("c740"),n("caad"),n("2532"),n("7db0"),n("6062"),n("3ca3"),n("ddb0");function D(e){return e.map((function(e){return{id:e.id,label:e.name}}))}function N(e){for(var t,n=[],a=0;t=e[a];a++)for(var s,l=t.elements.filter((function(e){return"modular_content"==e.type&&e.allowedTypes.length>0})),r=0;s=l[r];r++)for(var o,i=function(e,s){var l={id:"".concat(a,"_").concat(r,"_").concat(e),from:t.id,to:s.id,value:0},o=n.findIndex((function(e){return e.from==l.from&&e.to==l.to}));o>-1?n[o].value+=1:n.push(l)},c=0;o=s.allowedTypes[c];c++)i(c,o);return n}function $(e,t){var n=N([].concat(Object(E["a"])(t),[e])),a=n.filter((function(t){return t.to==e.id||t.from==e.id}));return a}function T(e,t){for(var n,a=[],s=0;n=t[s];s++){for(var l,r=n.elements.filter((function(t){return"modular_content"==t.type&&t.allowedTypes.length>0&&t.allowedTypes.map((function(e){return e.id})).includes(e.id)})),o={name:n.name,codename:n.codename,elements:[]},i=0;l=r[i];i++)o.elements.push({name:l.name,codename:l.codename});o.elements.length>0&&a.push(o)}return a}function I(e,t){var n=t.find((function(t){return t.id==e.id}));return{id:n.id,name:n.name,codename:n.codename,current:t.filter((function(t){return t.id==e.id}))[0],links:t.filter((function(t){return e.selectedNodes.includes(t.id)&&t.id!=e.id}))}}function S(e,t){return{nodes:[e],edges:Object(E["a"])(new Set(t.filter((function(t){return t.to==e||t.from==e})))).map((function(e){return e.id}))}}var P={props:["projectId","projectData"],data:function(){return{nodes:null,edges:null,hide:!1}},created:function(){var e=this;this.$globalEvents.$on("data",(function(t){t||(e.hide=!0)}))},watch:{projectData:{immediate:!0,deep:!0,handler:function(e){e?(this.hide=!1,this.nodes=D(e),this.edges=N(e)):this.hide=!0}}}},O=P,L=n("b0af"),F=n("cc20"),A=Object(d["a"])(O,V,j,!1,null,null,null),z=A.exports;m()(A,{VCard:L["a"],VChip:F["a"],VCol:v["a"],VRow:f["a"]});var M={data:function(){return{projectId:null,apiKey:null,dialog:!1,projectData:null,loading:!1}},components:{ProjectDetail:z},methods:{changeVisualization:function(){this.$globalEvents.$emit("data",null),this.data=null,this.projectData=null,this.projectId=null},requestVisualization:function(){/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(this.projectId)?this.dialog=!0:this.$globalEvents.$emit("error","Invalid Project Id!")},getKontentModellingData:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,C(e.projectId,e.apiKey);case 3:n=t.sent;try{e.finishProcessing(),e.projectData=n,e.projectData.projectId=e.projectId,e.$globalEvents.$emit("data",e.projectData),e.$globalEvents.$emit("no-error")}catch(a){console.log(a),e.finishProcessing(),e.$globalEvents.$emit("error","Something went wrong, try again later!")}case 5:case"end":return t.stop()}}),t)})))()},finishProcessing:function(){this.apiKey=null,this.loading=!1,this.dialog=!1}}},K=M,R=n("8336"),q=n("99d9"),U=n("a523"),B=n("169a"),H=n("132d"),J=n("490a"),G=n("8654"),Q=Object(d["a"])(K,b,w,!1,null,null,null),W=Q.exports;m()(Q,{VBtn:R["a"],VCard:L["a"],VCardText:q["b"],VCardTitle:q["c"],VCol:v["a"],VContainer:U["a"],VDialog:B["a"],VIcon:H["a"],VProgressCircular:J["a"],VRow:f["a"],VTextField:G["a"]});var X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.modelData?n("v-card",{attrs:{flat:""}},[n("v-tabs",{directives:[{name:"show",rawName:"v-show",value:!e.fullscreenDiagram,expression:"!fullscreenDiagram"}],model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v("Overview")]),e._l(e.tabs,(function(t){return n("v-tab",{key:t.id},[e._v(" "+e._s(t.name)+" "),n("v-icon",{staticStyle:{float:"right","margin-left":"5px"},on:{click:function(n){return e.removeTab(t)}}},[e._v("mdi-close-box")])],1)}))],2),n("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",[n("overview",{attrs:{modelData:e.modelData}})],1),e._l(e.tabs,(function(t,a){return n("v-tab-item",{directives:[{name:"show",rawName:"v-show",value:!e.fullscreenDiagram,expression:"!fullscreenDiagram"}],key:t.id},[n("model-detail",{attrs:{modelData:t,id:a+1}})],1)}))],2)],1):e._e()},Y=[],Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{class:e.fullscreenDiagram?"ma-0 pa-0":""},[n("v-row",{directives:[{name:"show",rawName:"v-show",value:e.fullscreenDiagram,expression:"fullscreenDiagram"}]},[n("v-col",{staticClass:"ma-0 pa-0",attrs:{align:"center",justify:"center"}},[n("v-card",{staticClass:"pa-2 ma-0",attrs:{flat:"",outlined:"",color:"primary",dark:""}},[n("model-search",{attrs:{items:e.rawData,selectedNode:e.selectedNode},on:{nodeFound:e.nodeFound}})],1)],1)],1),e.loading?n("v-row",{attrs:{justify:"center",align:"start"}},[n("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):e._e(),e.modelData?n("v-row",{attrs:{justify:"center",align:"start"}},[n("v-col",{class:e.fullscreenDiagram?"ma-0 pa-0":"",attrs:{cols:e.fullscreenDiagram?12:8}},[n("kontent-network",{ref:"network",attrs:{nodes:e.nodes,edges:e.edges},on:{nodeSelected:e.nodeSelected,nodeUnselected:e.nodeUnselected}})],1),n("v-col",{directives:[{name:"show",rawName:"v-show",value:!e.fullscreenDiagram,expression:"!fullscreenDiagram"}],attrs:{cols:"4"}},[n("v-card",{staticClass:"pa-4",attrs:{flat:"",outlined:"",color:"primary",dark:""}},[n("model-search",{attrs:{items:e.rawData,selectedNode:e.selectedNode},on:{nodeFound:e.nodeFound}})],1),e.selectedNode?n("selected-node-detail",{attrs:{selectedNode:e.selectedNode,projectId:e.modelData.projectId}}):e._e()],1)],1):e._e()],1)},ee=[],te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{outlined:""}},[n("v-card-text",[n("v-container",{staticStyle:{"margin-top":"-20px"}},[n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",[n("span",{staticClass:"overline"},[e._v("codename:")]),n("br"),e._v(" "+e._s(e.selectedNode.codename)+" ")])],1),n("v-row",{attrs:{justify:"start",align:"start"}},[n("v-col",[n("v-btn",{staticClass:"text-none font-weight-light pl-1 pr-1",attrs:{align:"center",color:"primary",light:""},on:{click:e.addTab}},[n("span",{staticClass:"ma-1"},[e._v("Details")]),n("v-icon",[e._v("mdi-arrow-up-bold-box-outline")])],1)],1),n("v-col",{staticClass:"ml-1"},[n("v-btn",{staticClass:"text-none font-weight-light pl-1 pr-1",attrs:{target:"_blank",align:"center",color:"primary",href:e.kontentUrl}},[n("span",{staticClass:"ma-1"},[e._v("Kontent")]),n("v-icon",[e._v("mdi-arrow-right-bold-box-outline")])],1)],1)],1),e.selectedNode.links.length>0?n("v-row",{staticClass:"display-elements pr-2",attrs:{justify:"end",align:"center"}},[n("v-col",{staticClass:"overline ma-0 pl-4",attrs:{cols:"4"}},[e._v("Show link elements")]),n("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"1"}},[n("v-switch",{attrs:{dense:"",label:""},model:{value:e.showLinkElements,callback:function(t){e.showLinkElements=t},expression:"showLinkElements"}})],1)],1):e._e(),n("v-row",{staticStyle:{"margin-top":"-5px"},attrs:{justify:"start",align:"center"}},[n("v-col",{staticClass:"pa-1 ma-0",attrs:{cols:"12"}},[e.selectedNode.links.length>0?n("v-divider"):e._e(),n("v-expansion-panels",{staticClass:"ma-0 pa-0",model:{value:e.linkedPanel,callback:function(t){e.linkedPanel=t},expression:"linkedPanel"}},[e.selectedNode.links.length>0?n("v-expansion-panel",{staticClass:"ma-0 pa-0"},[n("v-expansion-panel-header",{staticClass:"overline",attrs:{"expand-icon":"mdi-menu-down"}},[e._v(e._s(e.selectedNode.links.length)+" Linked types")]),n("v-expansion-panel-content",{staticClass:"ma-0 pa-0"},[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.linkedTypes,(function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.focus(t.id)}}},[n("v-row",{staticClass:"pa-0 ma-0",attrs:{justify:"center",align:"center"}},[n("v-col",{attrs:{cols:"1"}},["out"==t.type?n("v-icon",{staticClass:"pr-2",attrs:{color:"#f05a22"}},[e._v("mdi-arrow-left-bold")]):e._e(),"in"==t.type?n("v-icon",{staticClass:"pr-2",attrs:{color:"primary"}},[e._v("mdi-arrow-right-bold")]):e._e(),"both"==t.type?n("v-icon",{staticClass:"pr-2",attrs:{color:"black"}},[e._v("mdi-arrow-left-right-bold")]):e._e()],1),n("v-col",{attrs:{cols:e.showLinkElements?5:11}},[e._v(e._s(t.name))]),e.showLinkElements?n("v-col",{attrs:{cols:"6"}},e._l(t.properties,(function(t,s){return n("v-chip",{key:a+"_"+s,staticClass:"pa-2 mr-2 mb-1",attrs:{label:"",color:"primary",outlined:"",dark:"",small:""}},[e._v(e._s(t))])})),1):e._e()],1)],1)})),1)],1)],1)],1):e._e()],1)],1)],1)],1)],1)],1)},ne=[],ae={props:["selectedNode","projectId"],data:function(){return{linkedPanel:0,showLinkElements:0}},computed:{kontentUrl:function(){return"https://app.kontent.ai/".concat(this.projectId,"/content-models/types/edit/").concat(this.selectedNode.id)},linkedTypes:function(){for(var e,t=this,n=[],a=function(e,a){var s={},l=t.selectedNode.current.elements.filter((function(e){return e.allowedTypes&&e.allowedTypes.map((function(e){return e.id})).includes(a.id)})),r=a.elements.filter((function(e){return e.allowedTypes&&e.allowedTypes.map((function(e){return e.id})).includes(t.selectedNode.id)}));s=l.length>0?r.length>0?{type:"both",properties:[].concat(Object(E["a"])(l.map((function(e){return"(out) ".concat(e.name)}))),Object(E["a"])(r.map((function(e){return"(in) ".concat(e.name)})))),name:a.name,id:a.id}:{type:"out",properties:l.map((function(e){return e.name})),name:a.name,id:a.id}:{type:"in",properties:r.map((function(e){return e.name})),name:a.name,id:a.id},n.push(s)},s=0;e=this.selectedNode.links[s];s++)a(s,e);return n}},methods:{focus:function(e){this.$globalEvents.$emit("focus",e)},addTab:function(){this.$globalEvents.$emit("addTab",this.selectedNode)}}},se=ae,le=n("ce7e"),re=n("cd55"),oe=n("49e2"),ie=n("c865"),ce=n("0393"),de=n("8860"),ue=n("da13"),me=n("1baa"),pe=n("b73d"),ve=Object(d["a"])(se,te,ne,!1,null,null,null),fe=ve.exports;m()(ve,{VBtn:R["a"],VCard:L["a"],VCardText:q["b"],VChip:F["a"],VCol:v["a"],VContainer:U["a"],VDivider:le["a"],VExpansionPanel:re["a"],VExpansionPanelContent:oe["a"],VExpansionPanelHeader:ie["a"],VExpansionPanels:ce["a"],VIcon:H["a"],VList:de["a"],VListItem:ue["a"],VListItemGroup:me["a"],VRow:f["a"],VSwitch:pe["a"]});var he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-autocomplete",{attrs:{items:e.items,filter:e.customFilter,color:"white","item-text":"name","item-value":"id",label:"Browse Content Types"},on:{change:e.selectNode},model:{value:e.foundNode,callback:function(t){e.foundNode=t},expression:"foundNode"}})},ge=[],be={props:["items","selectedNode"],data:function(){return{foundNode:null}},watch:{selectedNode:{deep:!0,handler:function(e){e&&(this.foundNode=this.selectedNode.current)}}},methods:{customFilter:function(e,t){var n=e.name.toLowerCase(),a=e.codename.toLowerCase(),s=t.toLowerCase();return n.indexOf(s)>-1||a.indexOf(s)>-1},selectNode:function(e){this.$emit("nodeFound",e)}}},we=be,_e=n("c6a6"),ye=Object(d["a"])(we,he,ge,!1,null,null,null),ke=ye.exports;m()(ye,{VAutocomplete:_e["a"]});var Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"pa-4",attrs:{outlined:""}},[n("network-toolbar",{attrs:{buttons:e.buttons},on:{fit:e.fit}}),n("network",{ref:"network",staticClass:"network",attrs:{id:"network_"+e.canvasId,nodes:e.nodesDataSet,edges:e.edgesDataSet,options:e.options},on:{"select-node":e.nodeSelected,click:e.networkClicked,"after-drawing":e.checkLoaded}})],1)},xe=[],Ve=(n("a9e3"),n("9b29")),je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"pa-0 ma-0",attrs:{flat:"",dense:"",color:"primary",dark:""}},[n("v-row",{staticClass:"pa-0 ma-0",attrs:{justify:"center",align:"center"}},[n("v-col",{staticClass:"pa-0 ma-0 pl-1",attrs:{cols:"3"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.isFullscreen,expression:"!isFullscreen"}],staticClass:"ma-1",attrs:{text:"",icon:""},on:{click:e.fullscreen}},[n("v-icon",e._g({},a),[e._v("mdi-overscan")])],1)]}}])},[n("span",[e._v("resize to fullscreen")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.buttons.fit,expression:"buttons.fit"}],staticClass:"ma-1",attrs:{text:"",icon:""},on:{click:e.fit}},[n("v-icon",e._g({},a),[e._v("mdi-image-filter-center-focus-strong-outline")])],1)]}}])},[n("span",[e._v("center the diagram")])])],1),n("v-col",{attrs:{cols:e.isFullscreen?8:9}}),e.isFullscreen?n("v-col",{staticClass:"pa-0 ma-0 pl-1",attrs:{cols:"1",align:"right"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",{staticClass:"ma-1",attrs:{text:"",icon:""},on:{click:e.close}},[n("v-icon",e._g({},a),[e._v("mdi-close")])],1)]}}],null,!1,474789907)},[n("span",[e._v("close fullscreen")])])],1):e._e()],1)],1)},Ee=[],De={props:["buttons"],data:function(){return{isFullscreen:!1}},methods:{fullscreen:function(){this.$globalEvents.$emit("fullscreen",!0),this.isFullscreen=!0},fit:function(){this.$emit("fit")},close:function(){this.$globalEvents.$emit("fullscreen",!1),this.isFullscreen=!1}}},Ne=De,$e=n("3a2f"),Te=Object(d["a"])(Ne,je,Ee,!1,null,null,null),Ie=Te.exports;m()(Te,{VBtn:R["a"],VCard:L["a"],VCol:v["a"],VIcon:H["a"],VRow:f["a"],VTooltip:$e["a"]});var Se={props:{edges:{type:Array,default:function(){return[]}},nodes:{type:Array,default:function(){return[]}},buttons:{type:Object,default:function(){return{fullscreen:!0,fit:!0}}},canvasId:{type:Number,default:function(){return 0}}},components:{Network:Ve["Network"],NetworkToolbar:Ie},data:function(){return{loaded:!1,nodesDataSet:[],edgesDataSet:[],isFullscreen:!1,warningDialog:!1,options:{nodes:{shape:"box",size:30,margin:10,widthConstraint:{maximum:200},color:{highlight:{border:"#f05a22",background:"#ee997a"}}},physics:{enabled:!0,solver:"forceAtlas2Based",forceAtlas2Based:{gravitationalConstant:-90,avoidOverlap:.1,damping:1}},layout:{hierarchical:!1},edges:{arrows:"to",scaling:{label:!0},shadow:!0,smooth:!0,color:{highlight:"#f05a22"}},interaction:{navigationButtons:!0,keyboard:!0}}}},watch:{nodes:{immediate:!0,handler:function(e){e&&(this.nodesDataSet=new Ve["DataSet"](e))}},edges:{immediate:!0,handler:function(e){e&&(this.edgesDataSet=new Ve["DataSet"](e))}}},created:function(){var e=this;this.$globalEvents.$on("focus",(function(t){return e.focus(t)})),this.$globalEvents.$on("selectNode",(function(t){return e.nodeSelected(t)})),this.$globalEvents.$on("fullscreen",(function(t){return e.isFullscreen=t})),this.loaded=!1},methods:{nodeSelected:function(e){var t=this,n=e.nodes[0],a=e.edges,s=new Set;s.add(n);for(var l,r=0;l=a[r];r++){var o=this.edgesDataSet.get(l);s.add(o.from),s.add(o.to)}this.$nextTick((function(){t.$refs.network.setSelection({nodes:Object(E["a"])(s),edges:a},{unselectAll:!0,highlightEdges:!1})})),this.$emit("nodeSelected",{id:n,selectedNodes:Object(E["a"])(s)})},networkClicked:function(e){var t=this;e.nodes.length>0?this.nodeSelected(e):this.$nextTick((function(){t.$refs.network.unselectAll(),t.$emit("nodeUnselected")}))},fit:function(){this.$refs.network.fit()},fullscreen:function(){this.isFullscreen=!0},focus:function(e){this.$refs.network.focus(e)},checkLoaded:function(){this.loaded||(this.$globalEvents.$emit("stop-loading"),this.loaded=!0)}}},Pe=Se,Oe=(n("c2ee"),Object(d["a"])(Pe,Ce,xe,!1,null,"176f55b7",null)),Le=Oe.exports;m()(Oe,{VCard:L["a"]});var Fe={props:["modelData"],data:function(){return{fullscreenDiagram:!1,rawData:null,nodes:null,edges:null,selectedNode:null,loading:!0}},components:{SelectedNodeDetail:fe,KontentNetwork:Le,ModelSearch:ke},watch:{modelData:{immediate:!0,handler:function(e){e&&this.processData(e)}}},created:function(){var e=this;this.$globalEvents.$on("fullscreen",(function(t){return e.fullscreen(t)})),this.$globalEvents.$on("stop-loading",(function(){return e.loading=!1}))},methods:{processData:function(e){this.rawData=e,this.nodes=D(e),this.edges=N(e)},nodeSelected:function(e){this.selectedNode=I(e,this.rawData),this.foundNode=this.selectedNode.current},nodeFound:function(e){this.$globalEvents.$emit("selectNode",S(e,this.edges)),this.$globalEvents.$emit("focus",e)},nodeUnselected:function(){this.selectedNode=null,this.foundNode=null},fullscreen:function(e){document.getElementsByClassName("network")[0].style.height=e?window.innerHeight-250+"px":"600px",this.fullscreenDiagram=e}}},Ae=Fe,ze=Object(d["a"])(Ae,Z,ee,!1,null,null,null),Me=ze.exports;m()(ze,{VCard:L["a"],VCol:v["a"],VContainer:U["a"],VProgressCircular:J["a"],VRow:f["a"]});var Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-row",[n("v-col",{attrs:{cols:"7"}},[n("kontent-network",{ref:"selectedNetwork",attrs:{canvasId:e.id,nodes:e.nodes,edges:e.edges,buttons:e.networkButtons},on:{nodeSelected:e.nodeSelected,nodeUnselected:e.nodeUnselected}})],1),n("v-col",{attrs:{cols:"5"}},[n("model-link-detail",{attrs:{selectedNode:e.selectedNode}}),n("v-card",{attrs:{outlined:""}},[n("v-card-title",[e._v(e._s(e.modelData.name))]),n("v-card-subtitle",[n("span",{staticClass:"overline"},[e._v("codename:")]),e._v(" "+e._s(e.modelData.codename)+" ")]),n("v-card-text",[n("model-elements",{attrs:{elements:e.modelData.current.elements}}),n("br"),n("model-links",{attrs:{links:e.links}})],1)],1)],1)],1)],1)},Re=[],qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-expansion-panels",{staticClass:"ma-0 pa-0",model:{value:e.elementsPanel,callback:function(t){e.elementsPanel=t},expression:"elementsPanel"}},[n("v-row",{staticClass:"display-elements pr-2",attrs:{justify:"end",align:"center"}},[n("v-col",{staticClass:"overline ma-0 pa-0",attrs:{cols:"3"}},[e._v("Display All Elements")]),n("v-col",{attrs:{cols:"1"}},[n("v-switch",{attrs:{dense:"",label:""},model:{value:e.showAllElements,callback:function(t){e.showAllElements=t},expression:"showAllElements"}})],1)],1),n("v-expansion-panel",{staticClass:"ma-0 pa-0"},[n("v-expansion-panel-header",{attrs:{"expand-icon":"mdi-menu-down"}},[n("span",{staticClass:"overline"},[e._v(e._s(this.elements.length)+" Elements")])]),n("v-expansion-panel-content",{staticClass:"ma-0 pa-0"},[n("v-card",{attrs:{flat:""}},[n("v-list",{attrs:{dense:"","two-line":"",flat:""}},e._l(e.filteredElements,(function(t,a){return n("v-list-item",{key:a},[n("v-list-item-action",[n("v-icon",[e._v(e._s(e.iconFromType(t.type)))])],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.name)}}),n("v-list-item-subtitle",{domProps:{textContent:e._s(t.type)}})],1),t.allowedTypes&&t.allowedTypes.length>0?n("v-list-item-content",[n("v-card",{attrs:{flat:""}},[n("span",{staticClass:"overline"},[e._v("allowed types:")]),e._l(t.allowedTypes,(function(t,s){return n("v-row",{key:a+"_"+s,staticClass:"pl-3 pt-1",attrs:{justify:"start",align:"start"}},[n("v-chip",{attrs:{label:"",small:"",color:"primary",dark:""}},[e._v(e._s(t.name))])],1)}))],2)],1):e._e(),n("v-list-item-avatar",{directives:[{name:"show",rawName:"v-show",value:t.required,expression:"item.required"}]},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-icon",e._g({},a),[e._v("mdi-alert-circle-outline")])]}}],null,!0)},[n("span",[e._v("required element")])])],1)],1)})),1)],1)],1)],1)],1)},Ue=[],Be={props:["elements"],data:function(){return{showAllElements:!0,elementsPanel:0}},computed:{filteredElements:function(){return this.showAllElements?this.elements:this.elements.filter((function(e){return"modular_content"==e.type}))}},methods:{iconFromType:function(e){switch(console.log(e),e){case"text":return"mdi-text-short";case"rich_text":return"mdi-text-subject";case"number":return"mdi-pound";case"multiple_choice":return"mdi-checkbox-marked";case"date_time":return"mdi-calendar-month";case"asset":return"mdi-image-area";case"modular_content":return"mdi-puzzle";case"custom":return"mdi-qrcode-edit";case"guidelines":return"mdi-vector-polyline";case"taxonomy":return"mdi-inbox-multiple";case"url_slug":return"mdi-link";case"content_type_snippet":return"mdi-format-list-text";default:return"mdi-tab-unselected"}}}},He=Be,Je=(n("5c7d"),n("1800")),Ge=n("8270"),Qe=n("5d23"),We=Object(d["a"])(He,qe,Ue,!1,null,"be893158",null),Xe=We.exports;m()(We,{VCard:L["a"],VChip:F["a"],VCol:v["a"],VExpansionPanel:re["a"],VExpansionPanelContent:oe["a"],VExpansionPanelHeader:ie["a"],VExpansionPanels:ce["a"],VIcon:H["a"],VList:de["a"],VListItem:ue["a"],VListItemAction:Je["a"],VListItemAvatar:Ge["a"],VListItemContent:Qe["a"],VListItemSubtitle:Qe["b"],VListItemTitle:Qe["c"],VRow:f["a"],VSwitch:pe["a"],VTooltip:$e["a"]});var Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.links.length>0?n("v-expansion-panels",{staticClass:"ma-0 pa-0",model:{value:e.linkedPanel,callback:function(t){e.linkedPanel=t},expression:"linkedPanel"}},[n("v-expansion-panel",{staticClass:"ma-0 pa-0"},[n("v-expansion-panel-header",{attrs:{"expand-icon":"mdi-menu-down"}},[n("span",{staticClass:"overline"},[e._v("Linked in "+e._s(e.links.length)+" Types")])]),n("v-expansion-panel-content",{staticClass:"ma-0 pa-0"},[n("v-card",{attrs:{flat:""}},[n("v-list",{staticClass:"pa-0 ma-0",attrs:{dense:"","two-line":"",flat:""}},[e._l(e.links,(function(t,a){return[n("v-list-item",{key:a},[n("v-list-item-content",[n("v-row",[n("v-col",{staticClass:"ma-0 pl-2 pr-2 pa-0",attrs:{cols:"12"}},[n("v-card",{staticClass:"pa-1 pl-3 ma-1",attrs:{color:"primary",dark:""}},[n("v-list-item-title",{domProps:{textContent:e._s(t.name)}})],1)],1)],1),n("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"center",align:"center"}},[n("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"10"}},e._l(t.elements,(function(t,s){return n("v-chip",{key:a+"_"+s,staticClass:"pa-2 ma-1",attrs:{label:"",color:"primary",outlined:"",dark:"",small:""}},[e._v(e._s(t.name))])})),1)],1)],1)],1)]}))],2)],1)],1)],1)],1):e._e()},Ze=[],et={props:["links"],data:function(){return{linkedPanel:null}},methods:{}},tt=et,nt=(n("cd6a"),Object(d["a"])(tt,Ye,Ze,!1,null,"1ce3aaf2",null)),at=nt.exports;m()(nt,{VCard:L["a"],VChip:F["a"],VCol:v["a"],VExpansionPanel:re["a"],VExpansionPanelContent:oe["a"],VExpansionPanelHeader:ie["a"],VExpansionPanels:ce["a"],VList:de["a"],VListItem:ue["a"],VListItemContent:Qe["a"],VListItemTitle:Qe["c"],VRow:f["a"]});var st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mb-2",attrs:{flat:""}},[e.selectedNode&&e.linkedElements.length>0?n("v-card",{attrs:{outlined:""}},[n("v-card-title",[e._v("Selected link")]),n("v-card-subtitle",[n("v-card",{staticClass:"pa-1 ma-1",attrs:{color:"primary",dark:""}},[n("span",[n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",{attrs:{cols:"4",align:"center"}},[e._v(e._s(e.selectedNode.name))]),n("v-col",{attrs:{cols:"2",align:"center"}},[n("v-icon",[e._v("mdi-arrow-right")])],1),n("v-col",{attrs:{cols:"5",align:"center"}},[e._v(e._s(e.selectedNode.current.name))])],1)],1)]),n("v-row",{staticClass:"ma-0 pt-2 pb-2",attrs:{justify:"center",align:"center"}},[n("v-col",{staticClass:"ma-0 pa-1",attrs:{cols:"11"}},[n("v-row",{staticClass:"mb-1",attrs:{align:"center"}},[n("span",{staticClass:"overline"},[e._v(" "+e._s(e.linkedElements.length)+" element"+e._s(e.linkedElements.length>1?"s":"")+" of "),n("v-chip",{staticClass:"overline pa-2",attrs:{color:"primary",small:"",label:"",outlined:""}},[e._v(e._s(e.selectedNode.name))]),e._v(" "+e._s(e.linkedElements.length>1?"include":"includes")+" "),n("v-chip",{staticClass:"overline pa-2",attrs:{color:"primary",small:"",label:"",outlined:""}},[e._v(e._s(e.selectedNode.current.name))])],1)]),n("v-divider",{staticClass:"mt-4 mb-1"}),e._l(e.linkedElements,(function(t,a){return n("v-chip",{key:"_"+a,staticClass:"ma-1",attrs:{label:"",color:"primary",small:""}},[e._v(e._s(t.name))])}))],2)],1)],1)],1):e._e(),e.selectedNode&&0==e.linkedElements.length?n("v-card",{attrs:{outlined:""}},[n("v-card-title",[e._v("Selected link")]),n("v-card-subtitle",[n("v-card",{staticClass:"pa-1 ma-1",attrs:{color:"primary",dark:""}},[n("span",[n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",{attrs:{cols:"4",align:"center"}},[e._v(e._s(e.selectedNode.current.name))]),n("v-col",{attrs:{cols:"2",align:"center"}},[n("v-icon",[e._v("mdi-arrow-right")])],1),n("v-col",{attrs:{cols:"5",align:"center"}},[e._v(e._s(e.selectedNode.name))])],1)],1)]),n("v-row",{staticClass:"ma-0 pt-2 pb-2",attrs:{justify:"center",align:"center"}},[n("v-col",{staticClass:"ma-0 pa-1",attrs:{cols:"11"}},[n("v-row",{staticClass:"mb-1",attrs:{align:"center"}},[n("span",{staticClass:"overline"},[e._v(" "+e._s(e.linkedInElements.length)+" element"+e._s(e.linkedInElements.length>1?"s":"")+" of "),n("v-chip",{staticClass:"overline pa-2",attrs:{color:"primary",small:"",label:"",outlined:""}},[e._v(e._s(e.selectedNode.current.name))]),e._v(" "+e._s(e.linkedInElements.length>1?"include":"includes")+" "),n("v-chip",{staticClass:"overline pa-2",attrs:{color:"primary",small:"",label:"",outlined:""}},[e._v(e._s(e.selectedNode.name))])],1)]),n("v-divider",{staticClass:"mt-4 mb-1"}),e._l(e.linkedInElements,(function(t,a){return n("v-chip",{key:"_"+a,staticClass:"ma-1",attrs:{label:"",color:"primary",small:""}},[e._v(e._s(t.name))])}))],2)],1)],1)],1):e._e()],1)},lt=[],rt={props:["selectedNode"],computed:{linkedElements:function(){var e=this;return this.selectedNode.elements.filter((function(t){return t.allowedTypes&&t.allowedTypes.length>0&&t.allowedTypes.map((function(e){return e.id})).includes(e.selectedNode.current.id)}))},linkedInElements:function(){var e=this;return this.selectedNode.current.elements.filter((function(t){return t.allowedTypes&&t.allowedTypes.length>0&&t.allowedTypes.map((function(e){return e.id})).includes(e.selectedNode.id)}))}}},ot=rt,it=Object(d["a"])(ot,st,lt,!1,null,null,null),ct=it.exports;m()(it,{VCard:L["a"],VCardSubtitle:q["a"],VCardTitle:q["c"],VChip:F["a"],VCol:v["a"],VDivider:le["a"],VIcon:H["a"],VRow:f["a"]});var dt={props:["modelData","id"],components:{KontentNetwork:Le,ModelElements:Xe,ModelLinks:at,ModelLinkDetail:ct},data:function(){return{nodes:null,edges:null,rawData:null,links:null,selectedNode:null,networkButtons:{fit:!0}}},watch:{modelData:{immediate:!0,deep:!0,handler:function(e){e&&this.processData(e)}}},methods:{processData:function(e){this.rawData=e,this.nodes=D([].concat(Object(E["a"])(e.links),[e.current])),this.edges=$(e.current,e.links),this.links=T(e.current,e.links)},nodeSelected:function(e){var t=this.modelData.links.find((function(t){return t.id==e.id}));if(!t)return this.nodeUnselected();t.current=this.modelData.current,this.selectedNode=t},nodeUnselected:function(){this.selectedNode=null}}},ut=dt,mt=(n("564f"),Object(d["a"])(ut,Ke,Re,!1,null,"3557f60b",null)),pt=mt.exports;m()(mt,{VCard:L["a"],VCardSubtitle:q["a"],VCardText:q["b"],VCardTitle:q["c"],VCol:v["a"],VRow:f["a"]});var vt={components:{Overview:Me,ModelDetail:pt},data:function(){return{tab:0,tabs:[],modelData:null,fullscreenDiagram:!1}},created:function(){var e=this;this.$globalEvents.$on("data",(function(t){return e.modelData=t})),this.$globalEvents.$on("addTab",(function(t){return e.addTab(t)})),this.$globalEvents.$on("fullscreen",(function(t){return e.fullscreenDiagram=t}))},methods:{addTab:function(e){this.tabs.push(e),this.tab=this.tabs.length},removeTab:function(e){this.tabs=this.tabs.filter((function(t){return t!=e}))}}},ft=vt,ht=n("71a3"),gt=n("c671"),bt=n("fe57"),wt=n("aac8"),_t=Object(d["a"])(ft,X,Y,!1,null,null,null),yt=_t.exports;m()(_t,{VCard:L["a"],VIcon:H["a"],VTab:ht["a"],VTabItem:gt["a"],VTabs:bt["a"],VTabsItems:wt["a"]});var kt={components:{Visualizer:yt,ProjectSelector:W,ErrorHandler:g},data:function(){return{fullscreenDiagram:!1}},created:function(){var e=this;this.$globalEvents.$on("fullscreen",(function(t){return e.fullscreenDiagram=t}))}},Ct=kt,xt=(n("dcf5"),n("7496")),Vt=n("a75b"),jt=Object(d["a"])(Ct,s,l,!1,null,null,null),Et=jt.exports;m()(jt,{VApp:xt["a"],VContainer:U["a"],VContent:Vt["a"]});var Dt=n("f309");a["a"].use(Dt["a"]);var Nt=new Dt["a"]({});a["a"].config.productionTip=!1,a["a"].prototype.$globalEvents=new a["a"],new a["a"]({vuetify:Nt,render:function(e){return e(Et)}}).$mount("#app")},"5c7d":function(e,t,n){"use strict";n("4f20")},b710:function(e,t,n){},c2ee:function(e,t,n){"use strict";n("b710")},cd6a:function(e,t,n){"use strict";n("4c2f")},d1fc:function(e,t,n){},dcf5:function(e,t,n){"use strict";n("0ab6")}});
//# sourceMappingURL=app.e1b2f2d8.js.map